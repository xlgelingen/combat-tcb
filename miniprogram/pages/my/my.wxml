<view class="page-container">
  <!-- 用户信息模块 -->
  <view class="user-section">
    <view class="login-container">
      <text class="user-nickName" wx:if="{{userInfo.nickName}}">{{nickName?nickName:userInfo.nickName}}</text>
      <image class="user-avatarUrl" wx:if="{{userInfo.nickName}}" src="{{avatarUrl}}"></image>
    </view>
    <view class="unLogin-container">
      <button class="avatar-wrapper" wx:if="{{!userInfo.nickName}}" open-type="chooseAvatar" bindchooseavatar="onChooseAvatar">
        <image class="avatar-img" src="{{avatarUrl}}"></image>
        <view class="avater-descrb">请点击选择头像</view>
      </button>
      <mp-form class="nickname-box" wx:if="{{!userInfo.nickName}}">
        <mp-cells>
          <mp-cell title="昵称">
            <input type="nickname" class="weui-input" model:value="{{nickName}}" placeholder="请输入昵称" />
          </mp-cell>
        </mp-cells>
      </mp-form>
    </view>
  </view>

  <!-- 导航模块 -->
  <view class="navigator-section" wx:if="{{userInfo.nickName}}">
    <navigator class="navigator-item" url="/pages/create/create">
      <view class="navigator-item-bd">发布微博</view>
      <view class="navigator-item-ft navigator-item-ft_in-access"></view>
    </navigator>
    <navigator class="navigator-item" url="/pages/my_topic/my_topic">
      <view class="navigator-item-bd">我的微博</view>
      <view class="navigator-item-ft navigator-item-ft_in-access"></view>
    </navigator>
    <navigator class="navigator-item" url="/pages/my_reply/my_reply">
      <view class="navigator-item-bd">我的回复</view>
      <view class="navigator-item-ft navigator-item-ft_in-access"></view>
    </navigator>
  </view>

  <!-- 登录模块 -->
  <!-- open-type="getUserInfo" 是一个特殊的属性，它用于触发小程序的用户信息授权弹窗。当用户点击这个按钮时，会触发微信客户端的用户信息授权弹窗，让用户选择是否授权小程序获取其用户信息（如昵称、头像等）。而 bindtap 事件只是简单的绑定了一个点击事件，不会触发微信客户端的用户信息授权弹窗，也不会获取用户的授权结果。 -->
  <button class="login-btn" wx:if="{{!userInfo.nickName}}" hover-class="login-btn_hover" open-type="getUserInfo" bindgetuserinfo="handleLogin">
    授权登录使用</button>
</view>